# npm-audit-to-report

[![build](https://github.com/egorsmkv/npm-audit-to-report/actions/workflows/build.yml/badge.svg)](https://github.com/egorsmkv/npm-audit-to-report/actions/workflows/build.yml)

A lightweight Rust CLI that converts `security-audit.json` into `security-audit.md`, ready to drop into any CI pipeline.

## Demo

It's an example of the report generated by the program:

<img loading="lazy" alt="voice-report" width="800px" src="https://github.com/egorsmkv/npm-audit-to-report/raw/main/demo.png" width="100%"/>

You can check [dependency-audit.yml](https://github.com/egorsmkv/npm-audit-to-report/blob/main/dependency-audit.yml) out to see how CI integration looks like. This version of pipeline will create a GitHub issue even if your dependencies does not have vulnerabilities. If you do not want this behaviour, check [dependency-audit-only-when-detected.yml](https://github.com/egorsmkv/npm-audit-to-report/blob/main/dependency-audit-only-when-detected.yml) instead.

## Install

```bash
cargo install --locked --git https://github.com/egorsmkv/npm-audit-to-report.git
```

## Usage

```shell
Convert npm audit JSON lines into a Markdown summary.

Usage: npm-audit-to-report [OPTIONS]

Options:
  -i, --audit-file <AUDIT_FILE>     [default: security-audit.json]
  -o, --output-file <OUTPUT_FILE>   [default: security-audit.md]
  -f, --fail-if-no-vulnerabilities
  -h, --help                        Print help
  -V, --version                     Print version
```

## Development

```shell
just fmt

just lint

just test
```

### Release

```shell
cargo build --release
```
